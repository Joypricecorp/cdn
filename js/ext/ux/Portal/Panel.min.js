/**
 * @class Ext.app.PortalPanel
 * @extends Ext.panel.Panel
 * A {@link Ext.panel.Panel Panel} class used for providing drag-drop-enabled portal layouts.
 */Ext.define("Ext.ux.Portal.Panel",{extend:"Ext.panel.Panel",alias:"widget.ux-portal-panel",requires:["Ext.layout.container.Column","Ext.ux.Portal.DropZone","Ext.ux.Portal.Column"],cls:"x-portal",bodyCls:"x-portal-body",defaultType:"ux-portal-column",autoScroll:!0,manageHeight:!1,initComponent:function(){var e=this;this.layout={type:"column"};this.callParent();this.addEvents({validatedrop:!0,beforedragover:!0,dragover:!0,beforedrop:!0,drop:!0})},beforeLayout:function(){var e=this.layout.getLayoutItems(),t=e.length,n=["x-portal-column-first","x-portal-column-last"],r,i,s;for(r=0;r<t;r++){i=e[r];i.columnWidth=1/t;s=r==t-1;if(!r)if(s)i.addCls(n);else{i.addCls("x-portal-column-first");i.removeCls("x-portal-column-last")}else if(s){i.addCls("x-portal-column-last");i.removeCls("x-portal-column-first")}else i.removeCls(n)}return this.callParent(arguments)},initEvents:function(){this.callParent();this.dd=Ext.create("Ext.ux.Portal.DropZone",this,this.dropConfig)},beforeDestroy:function(){this.dd&&this.dd.unreg();this.callParent()}});