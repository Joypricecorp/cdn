Ext.define("Ext.ux.form.SearchField",{extend:"Ext.form.field.Trigger",alias:"widget.searchfield",trigger1Cls:Ext.baseCSSPrefix+"form-clear-trigger",trigger2Cls:Ext.baseCSSPrefix+"form-search-trigger",hasSearch:!1,onTyping:!1,paramName:"query",initComponent:function(){var e=this;e.callParent(arguments);e.on("specialkey",function(t,n){n.getKey()==n.ENTER&&e.onTrigger2Click()});if(e.onTyping){e.onTyping!==!0&&(e.paramName=e.onTyping);e.on("change",function(t,n){e.paramName==="query"&&console.warn("[WARN] Your paramName used is default (query).");php.trim(t.getValue())?t.onTrigger2Click():t.onTrigger1Click()})}e.store.remoteFilter=e.onTyping===!1},afterRender:function(){this.callParent();this.triggerCell.item(0).setDisplayed(!1)},onTrigger1Click:function(){var e=this;if(e.hasSearch){e.setValue("");e.store.removeFilter(e.paramName);e.hasSearch=!1;e.triggerCell.item(0).setDisplayed(!1);e.updateLayout()}},onTrigger2Click:function(){var e=this,t=e.getValue();if(t.length>0){e.store.filter({id:e.paramName,property:e.paramName,value:t,anyMatch:!0});e.hasSearch=!0;e.triggerCell.item(0).setDisplayed(!0);e.updateLayout()}}});