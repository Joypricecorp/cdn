/**
 * @class Ext.ux.container.SwitchButtonSegment
 * @extends Ext.ux.container.ButtonSegment
 * 
 * @author Harald Hanek (c) 2011-2012
 * @license http://harrydeluxe.mit-license.org
 */Ext.define("Ext.ux.container.SwitchButtonSegment",{alternateClassName:"Ext.ux.harry.container.SwitchButtonSegment",extend:"Ext.ux.harry.container.ButtonSegment",alias:"widget.switchbuttonsegment",activeItem:0,constructor:function(e){var t=this;t.internalDefaults={xtype:"button",toggleGroup:Ext.id(t),clickEvent:"mousedown",enableToggle:!0,allowDepress:!1};t.callParent([e])},applyDefaults:function(e){if(!Ext.isString(e)){e=this.callParent(arguments);var t=this.internalDefaults;if(e.events){Ext.applyIf(e.initialConfig,t);Ext.apply(e,t)}else Ext.applyIf(e,t)}return e},initComponent:function(){var e=this;e.addEvents("change");e.on("beforerender",e.beforeRender,e);e.callParent(arguments)},beforeRender:function(){var e=this;e.callParent(arguments);e.activeItem=e.activeItem+1>e.items.length?0:e.activeItem;e.items.each(function(t,n){e.activeItem==n&&(t.pressed=!0);e.mon(t,{toggle:e.onToggle,scope:e});t.toggleCount=n;t.scope=e},e)},getActiveItem:function(){return this.activeItem},setActiveItem:function(e){typeof e=="number"&&(e=this.items.getAt(e));e.toggle(!0)},onToggle:function(e,t){var n=this;if(t==1){n.activeItem=e.toggleCount;n.fireEvent("change",e)}}});