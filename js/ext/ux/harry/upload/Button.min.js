/**
 * @class Ext.ux.upload.Button
 * @extends Ext.button.Button
 * 
 * @author Harald Hanek (c) 2011-2012
 * @license http://harrydeluxe.mit-license.org
 */Ext.define("Ext.ux.upload.Button",{extend:"Ext.button.Button",alias:"widget.uploadbutton",requires:["Ext.ux.upload.Basic"],disabled:!0,constructor:function(e){var t=this;e=e||{};Ext.applyIf(e.uploader,{browse_button:e.id||Ext.id(t)});t.callParent([e])},initComponent:function(){var e=this,t;e.callParent();e.uploader=e.createUploader();e.uploader.drop_element&&(t=Ext.getCmp(e.uploader.drop_element))?t.addListener("afterRender",function(){e.uploader.initialize()},{single:!0,scope:e}):e.listeners={afterRender:{fn:function(){e.uploader.initialize()},single:!0,scope:e}};e.relayEvents(e.uploader,["beforestart","uploadready","uploadstarted","uploadcomplete","uploaderror","filesadded","beforeupload","fileuploaded","updateprogress","uploadprogress","storeempty"])},createUploader:function(){return Ext.create("Ext.ux.upload.Basic",this,Ext.applyIf({listeners:{}},this.initialConfig))}});