/* - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - +
 |	COPY RIGHT BY :) JoyPrice Corporation CO.,LTD. 				 |
 + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - *//*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */function AssetsCALL(e){e.cb&&typeof e.cb=="string"&&(!/\./.test(e.cb)&&window[e.cb]?e.cb=window[e.cb]:e.cb=JP.ns(e.cb));if(e.ns&&typeof e.ns=="string"){!/\./.test(e.ns)&&window[e.ns]?e.ns=window[e.ns]:e.ns=JP.ns(e.ns);if(!php.empty(e.ns)){e.cb&&e.cb.call(this);delete e.ns;return!0}}var t=function(n){$("<link>").attr({rel:"stylesheet",type:"text/css",href:n,onload:function(){s===i?r&&r.call(this):t(e.css[s++])}}).appendTo("head")},n=function(){$.getScript(e.js[u++],function(){u===o?e.cb&&(typeof e.cb=="object"?$.each(e.cb,function(e,t){JP.ns(t).call(window)}):e.cb.call(this)):n()})},r=null,i,s,o,u;if(e.js&&e.css){i=e.css.length;s=0;o=e.js.length;u=0;r=n;t(e.css[s++]);return}if(e.js){o=e.js.length;u=0;n();return}if(e.css){i=e.css.length;s=0;r=e.cb;t()}}(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function n(e){return e}function r(e){return decodeURIComponent(e.replace(t," "))}function i(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s.json?JSON.parse(e):e}catch(t){}}var t=/\+/g,s=e.cookie=function(t,o,u){if(o!==undefined){u=e.extend({},s.defaults,u);if(typeof u.expires=="number"){var a=u.expires,f=u.expires=new Date;f.setDate(f.getDate()+a)}o=s.json?JSON.stringify(o):String(o);return document.cookie=[s.raw?t:encodeURIComponent(t),"=",s.raw?o:encodeURIComponent(o),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}var l=s.raw?n:r,c=document.cookie.split("; "),h=t?undefined:{};for(var p=0,d=c.length;p<d;p++){var v=c[p].split("="),m=l(v.shift()),g=l(v.join("="));if(t&&t===m){h=i(g);break}t||(h[m]=i(g))}return h};s.defaults={};e.removeCookie=function(t,n){if(e.cookie(t)!==undefined){e.cookie(t,"",e.extend({},n,{expires:-1}));return!0}return!1}});!function(e){e.expr[":"].Contains=function(t,n,r){return(e(t).data("value")||"").toUpperCase().indexOf(r[3].toUpperCase())>=0};e.fn.liFilters=function(t){var n=t.list;e(this).change(function(){var t=e(this).val();if(t){$matches=n.find("li:Contains("+t+")");e("li",n).not($matches).hide();$matches.show()}else n.find("li").show();return!1}).keyup(function(){e(this).change()});return this}}(window.jQuery);!function(e){e.fn.gridtable=function(t){var n=e(this),r=e("tbody",n),i=e("colgroup",n).data("height"),s=e("col",n);t=e.extend({thead:!0,tbody:!0,tfoot:!0},t||{});var o=function(t,n){var r=0;for(;r<t.length;r++){var i=e(n,t[r]),o=0,u=0;for(;o<i.length;o++){var a=e(s[u]).width(),f=e(i[o]),l=php.intval(f.attr("colspan"));if(l){var c=0;a=0;for(;c<l;c++)a+=e(s[c]).width();u=+c}else u++;a&&f.css("width",a+"px")}}};r.height(i);t.thead!==!1&&o(e("thead > tr",n),"th");t.tbody!==!1&&o(e("tbody > tr",n),"td");t.tfoot!==!1&&o(e("tfoot > tr",n),"td");n.addClass("table-grid")}}(window.jQuery);if(window.Modernizr){(function(e){e.fn.replaceholder=function(t){var n;this.length>0?$this=e(this):$this=e("input[placeholder]");return $this.each(function(){settings=jQuery.extend(t);var n=e(this);if(n.length>0){var r=n.attr("placeholder");n.attr("value",r);n.bind("focus",function(){var t=e(this);t.val()===r&&t.val("").removeClass("placeholder")}).bind("blur",function(){var t=e(this);t.val()===""&&t.val(r).addClass("placeholder")})}})}})(jQuery);jQuery(function(e){e(function(){Modernizr.input.placeholder||e("input[placeholder], textarea[placeholder]").replaceholder()})})}!function(e){e.fn.center=function(){this.css({position:"absolute",left:"50%",top:"50%"});this.css({"margin-left":-this.width()/2+"px","margin-top":-this.height()/2+"px"});this.attr("data-jquery-center","true");return this}}(window.jQuery);!function(e){var t=/([^&=]+)=?([^&]*)/g,n=/\+/g,r=function(e){return decodeURIComponent(e.replace(n," "))};e.parseParams=function(e){var n={},i;while(i=t.exec(e)){var s=r(i[1]),o=r(i[2]);if(s.substring(s.length-2)==="[]"){s=s.substring(0,s.length-2);(n[s]||(n[s]=[])).push(o)}else n[s]=o}return n}}(window.jQuery);!function(e){e.fn.numeric=function(t,n){t=t||".";n=typeof n=="function"?n:function(){};this.keypress(function(e){var n=e.charCode?e.charCode:e.keyCode?e.keyCode:0;if(n===13&&this.nodeName.toLowerCase()==="input")return!0;if(n===13)return!1;var r=!1;if(e.ctrlKey&&n===97||e.ctrlKey&&n===65)return!0;if(e.ctrlKey&&n===120||e.ctrlKey&&n===88)return!0;if(e.ctrlKey&&n===99||e.ctrlKey&&n===67)return!0;if(e.ctrlKey&&n===122||e.ctrlKey&&n===90)return!0;if(e.ctrlKey&&n===118||e.ctrlKey&&n===86||e.shiftKey&&n===45)return!0;if(n<48||n>57){if(n===45&&this.value.length===0)return!0;n===t.charCodeAt(0)&&this.value.indexOf(t)!==-1&&(r=!1);n!==8&&n!==9&&n!==13&&n!==35&&n!==36&&n!==37&&n!==39&&n!==46?r=!1:typeof e.charCode!="undefined"&&(e.keyCode===e.which&&e.which!==0?r=!0:e.keyCode!==0&&e.charCode===0&&e.which===0&&(r=!0));n===t.charCodeAt(0)&&this.value.indexOf(t)===-1&&(r=!0)}else r=!0;return r}).blur(function(){var r=e(this).val();if(r!==""){var i=new RegExp("^\\d+$|\\d*"+t+"\\d+");i.exec(r)||n.apply(this)}});return this}}(window.jQuery);!function(e){e.fn.xdata=function(e){var t="data-";e!=="*"&&e!==""&&e&&(t+=e+"-");var n={},r=this[0].attributes;for(var i in r)if(!isNaN(i)&&r[i].name.substr(0,t.length)==t){var s=r[i].value;/true|false/i.test(s)&&(s=s.toLowerCase()==="true");JP.isNumber(s)&&(s=JP.toInt(s));var o=r[i].name.replace(t,"").split("-");if(o.length>1){var u=n;for(var a=0;a<o.length-1;a++){var f=o[a];u=u[f]?u[f]:u[f]={}}u[o[a]]=s}else n[o[0]]=s}return n}}(window.jQuery);!function(e){var t=function(t){return e("#"+t,n.me).length?e("#"+t,n.me):e('[name="'+t+'"]',n.me)},n,r=function(r,o){this.me=r[0];this.$me=e(this.me);this.form=JFormBasic(this.me);this.options=e.extend({},e.fn.form.defaults,o);n=this;this.init();this.options.focus?t(this.options.focus).focus():e("input,select,textarea",this.me).each(function(t,n){if(n.tabIndex==0){e(n).focus();return!1}});this.$me.data("validate-callback",s);n.options.isSearch&&n.initsearch();n.options.submit&&n.$me.on("submit.jform",function(){typeof n.options.submit=="function"?n.options.submit.call(n.me,n):n.submit(n.options.submit)});e("[data-validate-typing]",this.me).each(function(t,r){e(r).keyup(function(t){JIsValidFields(n.me,{fields:e(this),error_type:"custom",error_css:n.options.error_css_el,onresult:i,preventFormCallback:!0})})});e("[data-validate-onchange]",this.me).each(function(t,r){e(r).change(function(){JIsValidFields(n.me,{fields:e(this),error_type:"custom",error_css:n.options.error_css_el,onresult:i,preventFormCallback:!0})})})},i=function(t,n){var r=e(this).attr("name");!t.error&&!t.v_error?e(".invalid",e(this).parent(".item")).fadeOut("fast",function(){e(this).remove()}):o(this)},s=function(){if(n.options.error_msg_show!==!1||n.options.error_msg_alert===!0){var t=function(t){e.each(t,function(e,t){o(t)})};e(".form-msg",this).remove();var r=e(".invalid",this),i=e(this).data("error_els");r.length?r.fadeOut("fast",function(){e(this).remove();t(i)}):t(i)}},o=function(t){var n=e(t),r=n.data("validate-error-result"),i=n.parents(".field"),s=e(".invalid",i);s.length||(s=e('<div class="invalid alert alert-error"></div>').appendTo(e(".item",i)).data("el-anme",n.attr("name")));s.fadeIn(20,function(){e(this).html('<button type="button" class="close" data-dismiss="alert">×</button>'+r.error_msg)})};r.prototype={constructor:r,init:function(){cs.log("fn.form.init");var t=this,n=e('[type="search"]',this.me);if(n.length){var r=n.parent(".item"),i=e(".clear-search",r),s=function(t){var n=e(t).change().val();i.css("display",n?"block":"none")};n.keyup(function(){s(this);t.options.onsearch_typing&&t.options.onsearch_typing.call(t,this)});i.click(function(){n.val("");s(n.get(0));t.options.onsearch_clear&&t.options.onsearch_clear.call(t,i,n)})}if(this.options.geo){this.options.geo.scope=this.me;var o=e(php.sprintf('[name="%s"]',this.options.geo.options.pvn.name),this.me);o.length&&!e("option",o).length&&this.options.geo.pvn()}},isvalid:function(){return JIsValidFields(this.me,{error_type:this.options.error_msg_alert?"alert":"custom",error_css:this.options.error_css_el})},apply:function(n,r){r!==!1&&this.reset();this.options.geo&&this.options.geo.apply(n);for(var i in n){var s=t(i);if(!s.length)continue;var o=null;try{o=s.attr("type").toLowerCase()}catch(u){}o=="radio"||o=="checkbox"?e("[name="+i+"][value="+n[i]+"]",this.me).attr("checked","checked").change():s.val(n[i]).change()}return this.$me},field:function(e){return this.form.el(e)},reset:function(){this.me.reset();return this},clear:function(){e("input[type=text],input[type=hidden],input[type=password],textarea,select",this.me).val("").removeClass(this.options.error_css_el).change();e("input[type=checkbox],input[type=radio]",this.me).attr("checked",!1).removeClass(this.options.error_css_el).change();return this.$me},data:function(e,t){return typeof e=="string"&&typeof t!="undefined"?this.form.val(e,t):typeof e=="string"&&typeof t=="undefined"?this.form.val(e):this.form.data()},display:{init:function(t){n.$me[t?"removeClass":"addClass"]("invalid");n.$me[t?"addClass":"removeClass"]("valid");var r=e(".modal-header, .box-form-header",n.me),i=r.length?r:e(".title",n.me),s="insertAfter";if(!i.length){i=n.$me;s="prependTo"}var o=e(".form-msg",n.me);o.length&&o.remove();return{tg:i,mt:s,el:o}},invalid:function(t){var n=this.init(!1);typeof t=="object"?n.el=e(JP.format('<div class="invalid form-msg alert alert-error alert-block"><button type="button" class="close" data-dismiss="alert">×</button><h4>{0}</h4><p>{1}</p></div>',t.title,t.body)):n.el=e('<div class="invalid form-msg alert alert-error"><button type="button" class="close" data-dismiss="alert">×</button>'+t+"</div>");n.el[n.mt](n.tg).fadeIn("fast")},valid:function(t){var n=this.init(!0);typeof t=="object"?n.el=e(JP.format('<div class="valid form-msg alert alert-success alert-block"><button type="button" class="close" data-dismiss="alert">×</button><h4>{0}</h4><p>{1}</p></div>',t.title,t.body)):n.el=e('<div class="valid form-msg alert alert-success"><button type="button" class="close" data-dismiss="alert">×</button>'+t+"</div>");n.el[n.mt](n.tg).fadeIn("fast")}},submit:function(t,r,i,s){var o=this,u,a=!1;if(typeof t=="object"){i=t.prepare;r=t.callback;s=t.confirm;a=t.validate;t=t.url;u=t.id}var f=this.data();if(i){if(i.call(this,f)===!1){this.form.enable();return!1}f=this.data()}if(a!==!1&&!this.isvalid()){var l=this.$me.data("error_els");n.options.on_form_invalid&&n.options.on_form_invalid.call(n,l);JP.DEV&&cs.log(l);throw"This form is not valid."}if(!php.empty(s)){if(typeof s=="string"&&!confirm(s)){this.form.enable();return!1}if(typeof s=="function"&&s.call(this,f)===!1){this.form.enable();return!1}}f.push({name:"X-JP-Request-OOPS",value:this.options.oops});var c=e('[type="submit"]',o.me);c.length&&php.empty(c.data("loading-text"))&&c.data("loading-text","...");var h=e.fn.button.Constructor;c.length&&h&&c.button("loading");o.form.disable();e[n.options.method](t,f,function(t){o.form.enable();c.length&&h&&c.button("reset");var n=n||o.options.submit.id;if(n){var i=/^[a-z]/i.test(n)?"#"+n:n;e(i,o.me).val(t[n]||t.id||t.data[n]||"")}o.options.oops===!0&&t.error&&t.msg&&o.display.invalid({title:"Oops!",body:t.msg});o.options.oops===!0&&t.error===!1&&t.msg&&o.display.valid({title:"Success!",body:t.msg});r&&r.call(o,t)})},_change_search:function(){var t,r=[],i=e.trim(e(".search-value",n.me).val());e(".search-option:checked",n.me).each(function(n,i){var s=e(i).val();r.push(s);t=e(i).data("title");if(s=="all")return!1});var s=e(".search-legend .search-label",n.me);if(r.length){n.$me.data("search-options",function(){var e={};for(var t=0;t<r.length;t++)e[r[t]]=i;return e}());r.length>1&&(t=r.length);s.length||(s=e('<span class="search-label badge"/>').appendTo(e(".search-legend",n.me)));s.text(t)}else{s.remove();n.$me.data("search-options",i?{all:i}:null)}},initsearch:function(){n.$me.on("keyup",".search-value",function(){e(".search-clear",n.me).css("display",e.trim(e(this).val())?"block":"none");if(e.trim(e(this).val()).length>=(n.options.isSearch.minChar||3)&&n.options.isSearch.typing){n._change_search();n.$me.trigger("submit.jform")}}).on("click",".search-clear",function(){n.$me.data("search-options",null);e(".search-value",n.me).val("");e(".search-legend .search-label",n.me).remove();e(".search-option:checked",n.me).attr("checked",null);n.$me.trigger("submit.jform")}).on("change",".search-option",function(){n._change_search();e.trim(e(".search-value",n.me).val())&&n.$me.trigger("submit.jform")})}};e.fn.form=function(t,i){var s=e(this),o=s.data("form"),u=typeof t=="object"&&t;o||s.data("form",o=new r(this,u));if(typeof t=="string"){var a=[],f=0;for(;f<arguments.length;f++){if(f==0)continue;a.push(arguments[f])}return o[t].apply(n,a)}return s};e.fn.form.defaults={method:"post",error_css:"error",error_css_el:"invalid_field",error_msg_show:!0,error_msg_alert:!1,focus:null,oops:!0,submit:null,isSearch:!1,onsearch_clear:null,onsearch_typing:null,geo:null,on_form_invalid:null};e.fn.form.Constructor=r}(window.jQuery);var JIsValidFields=function(e,t){if(typeof e=="string"){/^[a-z]/i.test(e)&&(e="#"+e);e=$(e)[0]}var n=t.fields||$("input,textarea,select",e).not(":disabled");t=$.extend({error_msg:"Please enter required field.",error_css:"invalid_field",error_type:"alert",onresult:null,preventFormCallback:!1},t);var r=!1,i=t.error_type==="alert",s=function(n){var r=$(n),s=!1,o=r.xdata("validate")||{},u=o.type;!u&&r.prop("tagName").toLowerCase()=="select"&&(u="select");var a=o.required||/require/.test(r.attr("class"))||r.attr("required");if(!a&&!u)return!0;var f=o.error&&o.error.empty||r.attr("title")||t.error_msg,l=!1,c="",h=$.trim(r.val()),p={};switch(u){case"number":JP.isNumber(h)||(l=!0);break;case"username":var d=o.option&&o.option.length||3,v=new RegExp("^[a-zA-Z0-9_@.]{"+d+",20}$");if(!v.test(h)){c=o.error&&o.error.msg||"User must contain there are a-z,A-Z,0-9 and length "+d+" characters.";l=!0;break}break;case"password":p=o.option;var m=o.error,g=p&&p.length||4;if(!h||h.length<g){c=m&&m.msg_length||"Password must contain more than "+g+" characters.";l=!0;break}cs.log("password: @todo accept regura specail char like: []-{}");h=r.val();var y=/[^a-z0-9_.,-]/i;if(y.test(h)||/ /.test(h)){c=m&&m.msg||"Password must contain there are a-z,A-Z,0-9 and spacial characters.";l=!0;break}break;case"vpassword":if(h!==$("[name="+o.with+"]").val()){f=o.error&&o.error.msg||"New password and confirm password don't match";s=!0}break;case"radio":var b=!1,w=n.attr("name");$("[name="+w+"]",e).each(function(e,t){if($(t).is(":checked")){b=!0;return!1}});b||(h=null);break;case"select":l=!1;php.empty(h)&&(h=null);break;case"email":case"e-mail":case"mail":if(!h.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)){c=o.error&&o.error.msg||"An e-mail format don't match.";l=!0}break;case"file":var E=o.option;if(h&&E.type&&!validateFileType(h,E.type)){c=o.error.msg||"Not allow this file type.";l=!0}}var S=!h||h==="";s=S&&a||s;if(!s&&!S&&l){s=!0;f=c}r[s?"addClass":"removeClass"](t.error_css);var x={empty:S,error:s,error_msg:f,v_error:l,v_error_msg:c};r.data("validate-error-result",x);t.onresult&&t.onresult.call(n,x,e);if(i&&s){alert(f);return!1}return!s},o=$(e).data("error_els")||{};n.each(function(e,t){var n=s(t),u=$(t).attr("id")||$(t).attr("name");if(!n&&i)return!1;n||(r=!0);n||(o[u]=t);n&&o[u]&&delete o[u]});$(e).data("validate-callback")&&t.preventFormCallback!==!0&&$(e).data("error_els",o).data("validate-callback").call(e);return!r},validateFileType=function(e,t){var n=e.split("."),r=n[n.length-1],i=new RegExp("("+t.replace(/ /,"").replace(/,/,"|")+")","i");return i.test(r)},JLoadingStatus=function(e){"use strict";var t,n,r=this;this._cnn=-1;return{show:function(e){if($(".rc").length)n=$(".rc");else{n=$('<div class="rc"><span class="rc-txt"><i class="icon-loading animate-spin"></i><span class="rc-msg">'+(e?e:"Loading...")+"</span></span></div>");$(document.body).append(n)}r._cnn===-1&&(r._cnn=0);r._cnn++;if(JP.mask===!0){n.addClass("rc-mask").height($(window).height());e&&e!==!0&&$(".rc-txt").text(e);n.addClass("active");$(document.body).addClass("rc-show");$(document.body).addClass("jp-loading-mask")}JP.conn.show();$(document.body).addClass("jp-loading")},hide:function(){if(r._cnn===-1)return;r._cnn--;if(r._cnn<1){r._cnn=-1;n.removeClass("rc-mask").height("100%");n.removeClass("active");$(document.body).removeClass("rc-show");$(document.body).removeClass("jp-loading");$(document.body).removeClass("jp-loading-mask");JP.conn.hide()}}}},JLoading=JLoadingStatus,JFormBasic=function(e){if(typeof e=="string"){/^[a-z]/i.test("form")&&(e="#"+e);e=$(e)}e instanceof Element&&(e=$(e));var t=function(){JP.DEV&&cs.log("init form layout ...");$(".numberic,.numeric,input[type=number]").numeric();$("input[type!='checkbox'],input[type!='radio'],textarea,select",e).focus(function(){if(this.type.toLowerCase()==="radio"||this.type.toLowerCase()==="checkbox")return;$(this).parents(".field").addClass("focus")});$("input[type!='checkbox'],input[type!='radio'],textarea,select",e).blur(function(){if(this.type.toLowerCase()==="radio"||this.type.toLowerCase()==="checkbox")return;$(this).parents(".field").removeClass("focus")});$(".fields",e).each(function(e,t){var n=$(t),r=JP.toInt(n.data("label-width")),i=JP.toInt(n.data("field-width"));if(r){$(".buttons",n).css("padding-left",r+5+"px");$("label:not(.btn)",n).css("width",r+"px")}i&&$(".item",n).each(function(e,t){if($(t).parent("field").data("width")==="fasle")return;$(t).hasClass("auto")||$(t).css("width",i+"px")})})};t();return{init:t,el:function(t){return $("#"+t,e).length?$("#"+t,e):$("[name="+t+"]",e)},isEmpty:function(e){var t=this.el(e),n=$.trim(t.val()),r=t.attr("placeholder")||"undefined";return!n||n===""||n===0||n==="0"||n===r},val:function(e,t){return $.trim(this.el(e).val(typeof t!="undefined"&&t))},data:function(t,n){return t&&typeof n!="undefined"?this.form.val(t,n):t&&typeof n=="undefined"?this.form.val(t):e.serializeArray()},working:function(){JP.DEV&&cs.warn("[DEPRECATED] use data() then disable() intread of this.");var t=e.serializeArray();this.disable();return t},end:function(){JP.DEV&&cs.warn("[DEPRECATED] use enable() intread of this.");this.enable()},enable:function(){setTimeout(function(){$("input,select,textarea,button",e).each(function(e,t){if(!$(this).data("origin-disabled")){$(this).attr("disabled",!1);$(this).data("ckeditor")&&$(this).data("ckeditor").setReadOnly(!1);$(this).data("tinymce")&&$(this).data("tinymce").getBody().setAttribute("contenteditable",!0)}})},100)},disable:function(){setTimeout(function(){$("input,select,textarea,button",e).each(function(){$(this).is(":disabled")&&$(this).data("origin-disabled",!0);$(this).attr("disabled",!0);$(this).data("ckeditor")&&$(this).data("ckeditor").setReadOnly(!0);$(this).data("tinymce")&&$(this).data("tinymce").getBody().setAttribute("contenteditable",!1)})},100)}}},JCardSwitch=function(e,t,n){if(e==="next"){$(t).css("position","absolute").css("top","0").hide("slide",{direction:"left"},function(){$(this).css("position","inherit")});$(n).show("slide",{direction:"right"});return}$(n).css("position","absolute").css("top","0").hide("slide",{direction:"right"},function(){$(this).css("position","inherit")});$(t).show("slide",{direction:"left"})},JDD=function(){$(document).delegate(".jp-dde","mouseenter click",function(e){var t=$(this),n=t.parent(".jp-dd"),r="";if(t.hasClass("jp-click")&&e.type!=="click")return;$.each(t.attr("class").split(" "),function(e,t){if(/jp-dde-/.test(t)){r=t.replace(/jp-dde-/,"");return!1}return!0});var i=$(".jp-ddl-"+r);if(e.type==="click"){if(t.hasClass("clicked")){t.removeClass("clicked");t.removeClass("active");i.removeClass("active");return}t.addClass("clicked")}var s=$(window).width(),o=t.offset().left;if(o>s/2){i.css("right",n.outerWidth()-t.outerWidth());i.addClass("jp-right")}t.addClass("active");i.addClass("active");i.parent("dl").unbind("mouseleave").bind("mouseleave",function(){if(t.hasClass("clicked"))return;t.removeClass("active");i.removeClass("active")});if(!$(document).data("dde")){$(document).data("dde",!0);$(document).bind("click",function(e){if($(e.target).parents(".jp-dde").length)return;$(".jp-dde").removeClass("clicked").removeClass("active");$(".jp-ddl").removeClass("active")})}})},JListActions=function(e){e.el.delegate(".list-grid","mouseenter",function(){var t=$(this),n=e.scope||$("body");if(t.data("init"))return;t.data("init",!0);var r=t.xdata("*");if(r.remove)var i=r.remove.url,s=r.remove.callback,o=r.remove.msg||"Are you sure to delte?",u=r.remove.msgempty,a=$(r.remove.btns,n),f=$(r.remove.btn,n);if(r.desc)var l=$(r.desc.target,n),c=r.desc.btn,h=$(c,n),p=r.desc.btnhide,d=r.desc.url;if(r.state)var v=r.state.url,m=$(r.state.btn,n),g=r.state.callback;var y=$(":checkbox[name=acb]",t),b=$(".tcb",t),w=$(":checkbox[name^=cb]",t),E=[];if(y.length){y.change(function(){E=$(":checkbox[name^=cb]:checked",t);y.attr("checked",E.length>1);a.attr("disabled",!$(this).is(":checked"))}).click(function(){w.attr("checked",!w.is(":checked"));w.change()});w.change(function(){$(this).is(":checked")?$(this).parents(".row").addClass("selected"):$(this).parents(".row").removeClass("selected");y.change()});b.click(function(){var e=$(this).parent(".row");if(e.has(":checkbox[name^=cb]")){var t=$(":checkbox[name^=cb]",e);t.attr("checked",!t.is(":checked"));t.change()}})}if(h&&h.length&&l.length&&d){e.desc=l;h.click(function(t){if(!$(t.target).parents(c).length&&this!==t.target)return;var n=l.data("height"),r=$(this),i=function(t){var n=r.parents(".row"),i=r.attr("value")||n.data("id");$(".row",n.parents(".list-grid-body")).removeClass("selected");n.addClass("selected");e.mask();$.get(JP.raw(d),{id:i},function(r){e.unmask();var i=$(r);t&&s();l.html(i);$(p,i).click(function(){o(n)})})},s=function(){l.animate({height:n},100).addClass("active")},o=function(e){l.animate({height:0},100,function(){$(this).removeClass("active");e&&e.removeClass("selected")})};i(!l.hasClass("active"))})}g&&(!/\./.test(g)&&window[g]?g=window[g]:g=JP.ns(g));m&&m.length&&m.click(function(t){var n=$(this),r=$(this).parents(".row"),i={id:n.attr("value")||n.data("id")||r.data("id"),state:n.data("statesend")};if(n.data("radio")){var s=$('input[type="radio"]',n);if(s.data("bind-change"))return;s.data("bind-change",!0).change(function(){var t=$('input[value="0"]',n),s=$('input[value="1"]',n),o=$('label[for="'+t.attr("id")+'"]',n),u=$('label[for="'+s.attr("id")+'"]',n),a=n.data("css-yes"),f=n.data("css-no");u[s.is(":checked")?"addClass":"removeClass"](a);o[t.is(":checked")?"addClass":"removeClass"](f);i.id=n.data("id");i.state=$(":checked",n).val();$("input,button",r).attr("disabled",!0);e.mask();$.post(JP.json(v),i,function(l){e.unmask();$("input,button",r).attr("disabled",!1);if(l.error||l.success===!1){u[s.is(":checked")?"removeClass":"addClass"](a);o[t.is(":checked")?"removeClass":"addClass"](f);u[s.is(":checked")?"removeClass":"addClass"]("active");o[t.is(":checked")?"removeClass":"addClass"]("active");JP.toInt(i.state)?t.attr("checked","checked"):s.attr("checked","checked")}g&&g.call(this,l,n)})});return}$("input,button",r).attr("disabled",!0);var o=i.state==="1"||i.state===1||i.state==="y"||i.state==="yes";e.mask();$.post(JP.json(v),i,function(t){e.unmask();$("input,button",r).attr("disabled",!1);if(!t.error&&t.success!==!1){n.removeClass(o?n.data("css-off")||"btn-off":n.data("css-on")||"btn-on").addClass(o?n.data("css-on")||"btn-on":n.data("css-off")||"btn-off");n.data("statesend",o?n.data("stateoff")||0:n.data("stateon")||1);var i=o?n.data("text-on")||"ปกติ":n.data("text-off")||"ระงับ";n.attr("data-original-title",i);n.find('[class*="icon-"]').length?n.html('<i class="icon-'+(o?n.data("icon-on")||"ok":n.data("icon-off")||"remove")+'"></i>'+"<span>"+i+"</span>"):n.html("<span>"+i+"</span>")}g&&g.call(this,t,n)})});f&&f.length&&f.click(function(){s&&(!/\./.test(s)&&window[s]?s=window[s]:s=JP.ns(s));if(confirm(o)){w.attr("checked",!1);w.change();var n=$(this).parents(".row").addClass("selected"),r=$(":checkbox[name^=cb]",n).attr("checked",!0).val(),u=r||$(this).attr("value")||$(this).data("value")||$(this).data("id")||n.data("id");if(!u){alert("No data id to sending.");return!1}$("input,button,.btn",n).attr("disabled",!0).addClass("disabled");e.mask();$.post(JP.json(i),{id:u},function(r){e.unmask();r.error||r.success===!1?$("input,button,.btn",n).attr("disabled",!1).removeClass("disabled"):n.fadeOut();s&&s.call(this,r,t)})}});a&&a.length&&a.click(function(){w.is(":checked")||alert(u||"Please select any record is you want to delete.");if(confirm(o)){var n=[];$.each(E,function(e,t){n[e]=$(t).val()});if(!n.length){alert("No data id to sending.");return!1}var r=E.parents(".row");$("input,button,.btn",r).attr("disabled",!0).addClass("disabled");a.attr("disabled",!0);e.mask();$.post(JP.json(i),{id:n},function(n){e.unmask();if(n.error||n.success===!1){$("input,button,.btn",r).attr("disabled",!1).removeClass("disabled");a.attr("disabled",!1)}else{y.attr("checked",!1);r.fadeOut()}s&&s.call(this,n,t)})}})})},JList=function(e,t){return new function(e,t){t=t||{};var n=this,r=e.data("url"),i=e.xdata("param"),s=function(e){var t=$(".list-grid-hd",e),n=$(".list-grid-body",e);t.css("padding-right",n.width()-n.find("table").width())},o=function(e){var t=e.find(".list-empty");if(t.length)return;var r=$(".btn, .list-actions .btn",e);r.each(function(e,t){$(t).attr("title")||$(t).attr("title",$(t).find("span").text());$(t).attr("title")&&$(t).tooltip({html:!0,container:"body"})});if(n.desc&&n.desc&&n.desc.hasClass("active")){var i=n.el.height()+n.desc.height();n.desc.animate({height:0},100,function(){$(this).removeClass("active")});n.reload()}var o=$(".list-grid-body",e),u=o.find("colgroup").clone(!0,!0),a=o.find("thead").clone(!0,!0),l=$('<div class="list-grid-hd"><table></table></div>');u.length&&u.appendTo(l.find("table"));a.appendTo(l.find("table"));l.insertBefore(o,e);var c=$(".list-grid-nav",e);s(e);$(".no,.back,.next,.reload",c).tooltip({container:"body"});var h=$(".no",c),d=JP.toInt(h.attr("max"));$(".next",c).click(function(){var e=JP.toInt(h.val());if(e>=d)return;h[0].stepUp(1);$(h).change()});$(".back",c).click(function(){var e=JP.toInt(h.val());if(e<1)return;h[0].stepDown(1);$(h).change()});$(h).bind("click change",function(){var e=f.start||0,t=f.limit||JP.PageSize;f.start=t*($(this).val()-1);if(e===f.start)return;p()});var v=JP.toJson($(".params",c).val());n.meta=v;$(".reload",c).click(function(){p(v.params)})};e.append('<div class="list-content" id="list-content-'+ ++JP.gen_id+'"></div>');var u=$(".list-content",e);e.append('<div class="list-mask"><div class="list-mask-text"><i class="icon-loading animate-spin"></i><span>กำลังโหลดข้อมูล..</span></div></div>');var a=$(".list-mask",e);$(window).resize(function(){s(e)});var f=t.data||{},l=this,c=function(){JP.setMask(!1);a.addClass("active")},h=function(){JP.setMask(!0);a.removeClass("active")};php.empty(i)||$.extend(f,i);var p=function(n){$(".tooltip").remove();c();$.get(JP.raw(r),n||f,function(n){var r=$(".list-body",u);r.length?r.replaceWith(n):u.html(n);t.callback&&t.callback.call(l,n);o(e);h()})};t.auto!==!1&&p();$.extend(this,{trsId:0,scope:t.scope?$(t.scope):$(document.body),ID:function(e){return $(e).attr("value")||$(e).parents(".row").data("id")},el:e,mask:c,unmask:h,load:function(e){e?f=$.extend(f,e):f=t.data;f.start||(f.start=0);p();this.trsId++},reload:function(){this.load(f)}});JListActions(this)}($(e),t)},JPage=function(e){e=$.extend({listeners:null},e);var t=!0;$(window).bind("hashchange",function(){if(!t)return;g()});var n=function(e){return e.replace(/[^A-Za-z0-9]/g,"")},r=function(e,t){t=t?$.param(t):"";return n(e+t)},i=function(){return n(a())},s=function(e){e=e||window.location.href;var t=e.indexOf("#");return t>=0?e.substr(t+1).replace(/\?.+/,""):null},o=function(){var e=window.location.href,t=e.indexOf("#"),n=e.substr(t+1);return/\?/.test(n)?t>=0?$.parseParams(n.replace(/.+\?/,"")):null:null},u=function(e){try{if(a()==e){$(window).hashchange();return}window.location.hash=e}catch(t){cs.log(t.getMessage());cs.log(t)}},a=function(e){if(e){var t=e.indexOf("#");return t>=0?e.substr(t+1):e}return window.location.hash.replace("#","")},f=function(e){e=e.split("?");return{id:e[0].toLowerCase(),params:e[1]?$.parseParams(e[1]):null}},l=function(e){return $("#page-"+e)},c={},h=function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);c[e]&&c[e].length&&$.each(c[e],function(){this.fn.apply(this.scope,t)})},p=function(e){y.pages[e].loaded=!1;l(e).remove();delete y._cb[e]},d=function(e){var t=$('[data-page-set="'+e.href+'"]');if(t.length&&t.data("id")!==e.id){t.remove();for(var n in y.pages)if(y.pages[n].href===e.href){y.pages[n].loaded=!1;delete y._cb[n]}}},v=function(e){var t=y.pages[e];t.loaded&&t.cache===!1&&p(e);t.duplicate===!1&&d(t)},m=function(e){if(php.empty(e))return;e=e.toLowerCase();/#/.test(e)&&(e=e.split("#")[1]);/\?/.test(e)&&(e=e.split("?")[0]);JP.ns("JP.pages."+e)},g=function(){var e=i(),t=y.pages[e];if(!t){y.load(f(a()));return}v(e);if(t.loaded){y.page=l(t.id);y.active.removeClass("hiding").removeClass("active").css("left","-100%");y.page.removeClass("hiding");setTimeout(function(){y.page.addClass("active").css("left","0");y.active=y.page},5);y.callCb(t.id);h("load",y.page,t,y)}else{t.origin&&m(t.origin);$.get(JP.raw(t.href),t.params,function(e){var n=null;if(/page-error/.test(e)){n=e.match(/data-error="(.*)"/)[1];t.id="error-"+n}if(n&&l(t.id).length)y.page=l(t.id);else{y.page=$('<div class="page active" id="page-'+t.id+'"></div>');y.page.data("id",t.id);y.page.attr("data-page-set",t.href);y.page.html(e).appendTo(y.scope())}y.page.on(JP.css3.events.transition.end,function(){!$(this).hasClass("active")&&$(this).addClass("hiding").css("left","100%")});setTimeout(function(){y.active&&y.active.removeClass("active").css("left","-100%");setTimeout(function(){y.page.css("left","0")},5);y.active=y.page},300);t.loaded=!0;h("init",y.page,t,y);y.callFn(t.id);h("load",y.page,t,y);JBreadcrumb.hide($(".jp-breadcrumb",y.page))})}},y={active:null,page:null,pages:{},_fn:{},_cb:{},isHas:function(e){(typeof e).toLowerCase()!=="object"&&(e=f(a(e)));var t=r(e.id,e.params);return this.pages[t]},on:function(e,t,n){c[e]||(c[e]=[]);c[e][c[e].length]={fn:t,scope:n}},scope:function(){return $(JP.layout.page.el)},initLink:function(e){var t=$(e).attr("href"),n=/\/\//.test(t);!n&&/#/.test(t)&&(t=JP.base+"/"+t);if(JP.layout.isNPage){JP.conn.show();self.location.href=t}else if(n){JP.conn.show();self.location.href=t}else this.load(t)},getPageID:function(e){var t=f(a(e));return r(t.id,t.params)},getUri:a,callback:function(e){this._cb[this.page.data("id")]=e;return this},callCb:function(e){var t=this._cb[e];t&&t.call(this,this.page,this.pages[e])},init:function(e){this._fn[this.page.data("id")]=e;return this},callFn:function(e){var t=this._fn[e];t&&t.call(this,this.page,this.pages[e]);this._fn={};this.callCb(e)},working:function(e){t=e},startup:function(e){this.working(!JP.layout.isNPage&&!$("body").hasClass("login"));if(!t)return;var n=a();n?this.load(n):this.load(e)},remove:function(e){p(this.getPageID(e))},reload:function(e){this.remove(e);this.load(e)},back:function(e){this.load(e,"back")},load:function(e,t){JP.DEV&&(t||e.dir)&&cs.warn("[DEPRECATED] remove direction slide.");if((typeof e).toLowerCase()!=="object"&&a(e)===a()&&!php.empty(this.pages))return;var n=this.isHas(e);if(n&&n.cache!==!1){u(n.uri);return}var i={id:null,href:null,uri:null,dir:"next",params:null,cache:!0,duplicate:!1,loaded:!1,origin:null};if((typeof e).toLowerCase()==="object")$.extend(i,{id:e.id,href:e.href||e.id,dir:e.dir||"next",params:e.params,cache:e.cache,unique:e.unique,origin:e.id});else{n=f(a(e));$.extend(i,{id:n.id,href:n.id,params:n.params,dir:t||"next",origin:e})}$.extend(i,{id:r(i.id,i.params),uri:i.href+(i.params?"?"+$.param(i.params):"")});i.params||(i.params={});this.pages[i.id]=i;u(i.uri)}};if(e.listeners){var b=e.listeners.scope||null;for(var w in e.listeners){if(w==="scope")continue;y.on(w,e.listeners[w],b)}}$(function(){s()&&y.startup(s())});return y},JGeo=function(e){var t=$(e.scope||document.body),n=e.auto!==!1,r=e.pvn,i=e.amp,s=e.dst,o={options:e,scope:t,clear:function(){$("select option",$(i.ct,o.scope)).remove();$("select option",$(s.ct,o.scope)).remove()},apply:function(e){e[s.name]&&(s.selected=e[s.name]);e[i.name]&&(i.selected=e[i.name]);e[r.name]&&(r.selected=e[r.name])},pvn:function(){var e=this,t=$(r.ct,o.scope);t.html('<em class="sl-loading"><i class="icon-loading"></i><span>Loading...</span></em>'
);JP.setMask(!1);$.get(JP.raw("sl_provinces"),r,function(n){JP.setMask(!0);var s=$(n);t.html("").append(s);s.change(function(){$.extend(i,{pvn:$(this).val()});e.amp()});if(r.selected){s.val(r.selected);s.change()}})},amp:function(){var e=this,t=$(i.ct,o.scope);t.html('<em class="sl-loading"><i class="icon-loading"></i><span>Loading...</span></em>');JP.setMask(!1);$.get(JP.raw("sl_amphurs"),i,function(n){JP.setMask(!0);var r=$(n);t.html("").append(r);r.change(function(){$.extend(s,{amp:$(this).val()});e.dst()});i.selected&&r.val(i.selected);r.change()})},dst:function(){var e=$(s.ct,o.scope);if($("select option",e).length&&!JP.toInt(s.amp)){$("select option",e).remove();return}e.html('<em class="sl-loading"><i class="icon-loading"></i><span>Loading...</span></em>');JP.setMask(!1);$.get(JP.raw("sl_districts"),s,function(t){JP.setMask(!0);var n=$(t);e.html("").append(n);if(s.selected){n.val(s.selected);n.change()}})}};n&&o.pvn();return o},JBreadcrumb=function(){return{hide:function(e){var t=$(e),n=$("div",t),r=$("ul",t),i=$("li:last-child",t);if(!n.data("width")){n.data("width",n.outerWidth());n.data("width-x",i.outerWidth());n.data("width-l",i.outerWidth());n.width(n.outerWidth())}t.addClass("xhidden");n.animate({width:n.data("width-x")+"px"});r.animate({left:(n.data("width")-n.data("width-l")-JP.toInt(i.css("margin-right")))*-1+"px"})},show:function(e){var t=$(e),n=$("div",t),r=$("ul",t);if(!t.hasClass("xhidden"))return;t.removeClass("xhidden");n.animate({width:n.data("width")+"px"});r.animate({left:"0px"})},run:function(){var e=this,t=$(document).on("mouseenter",".jp-breadcrumb",function(){e.show(this)}).on("mouseleave",".jp-breadcrumb",function(){e.hide(this)}).on("click",".jp-breadcrumb li:last a",function(n){n.preventDefault();$(this).hasClass("xhidden")?e.show(t):e.hide(t)})}}}();$.ui.dialog.prototype._older_create=$.ui.dialog.prototype._create;$.widget("ui.dialog",$.extend({},$.ui.dialog.prototype,{_create:function(){$.ui.dialog.prototype._older_create.apply(this,arguments);this._init_aminimate()},_init_aminimate:function(){var e=this;this._inInitAnimated=!0;var t=this.element,n=this.uiDialog;n.addClass("animatedf BounceIn").on(JP.css3.events.animate.end,function(){if(n.data("state")=="close"){t.dialog("close");e._trigger("closed")}else e._trigger("opened")});t.on("dialogbeforeclose",function(e,t){var r=n.data("state");n.removeClass("BounceIn").addClass("BounceOut");n.data("state","close");return r=="close"});t.on("dialogclose",function(){n.removeClass("BounceOut");n.data("state","closed")});t.on("dialogbeforeopen",function(){n.addClass("BounceIn")})},open:function(){var e=this;if(this._isOpen){this._moveToTop()&&this._focusTabbable();return}this._isOpen=!0;this.opener=$(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,!0);this._trigger("beforeopen");this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._trigger("open")}}));!function(e){var t=function(t,n){this.$element=e(t);this.$owner=e(t).parent("li");this.options=e.extend({},e.fn.collapse.defaults,n);this.options.parent&&(this.$parent=e(this.options.parent));this.options.toggle&&this.toggle()};t.prototype={constructor:t,show:function(){var t=this.$parent&&this.$parent.find(".in");if(t&&t.length){t.collapse("hide");t.data("collapse",null)}this.$owner.addClass("active");this.$element.addClass("in");e(".JBTN_ToggleMenu").length&&e(JP.layout.container.el).hasClass("collapsed")&&e(".JBTN_ToggleMenu").data("EventClick")();if(this.options.transition){var n=this.$element;n.data("height")?n.css("height",n.data("height")):setTimeout(function(){n.data("height",n.outerHeight())},350)}},hide:function(){e(">.active",this.$parent).removeClass("active");this.$element.removeClass("in");this.options.transition&&this.$element.css("height",0)},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;i||r.data("collapse",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.collapse.defaults={toggle:!0,transition:!0};e.fn.collapse.Constructor=t;var n={init:function(t){return this.each(function(){var r=this;e(this).on("click.jaccordion.data-api",".jp-accordion-title > a",function(e){e.preventDefault();n.fireme(this,r,t)})})},menuexpand:function(e){t.prototype.menuexpand=e;return this},fireme:function(t,n,r){var i=e(t),s=i.next("ul"),o=e(s).data("collapse")?"toggle":e.extend({parent:e(n)},e.fn.jaccordion.defaults,i.data(),r||{});JP.DEV&&cs.log("[TODO] when set menu.expand = false a normal clicking in menu not expand fix it.");if(s.length){e(s).collapse(o);e(s).on("click.jaccordion.link-api","a",function(t){t.preventDefault();JPage.initLink(this);e("li li.active",n).removeClass("active");e(this).parent("li").addClass("active")})}else{e(n).find(".in").length&&e(n).find(".in").data("collapse").hide();i.parent("li").addClass("active");JPage.load(i.attr("href"))}},reset:function(t){e(".active",t).removeClass("active");e(".in",t).height(0);e(".in",t).removeClass("in")},setactive:function(t){var r=this,i=!1;if(!t){n.reset(this);e(JP.layout.container.el).addClass("collapsed");return}e("a",this).each(function(){if(JPage.getPageID(this.href)===t){i=!0;if(e(this).parent(".jp-accordion-title").length)e(this).parent("li").addClass("active");else{var s=e(this).parents(".jp-accordion-title");s.hasClass("active")||n.fireme(s.find("> a"),r);s.find(".active").removeClass("active");e(this).parent("li").addClass("active")}return!1}return!0});i||n.reset(this)}};e.fn.jaccordion=function(t){if(n[t])return n[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return n.init.apply(this,arguments);e.error("Method "+t+" does not exist on jQuery.jaccordion");return!1};e.fn.jaccordion.defaults={toggle:!0,transition:!0};e(function(){e(".jp-accordion").jaccordion()})}(window.jQuery);!function(e){e(function(){e("body").on("change.data-toggle-custumcss",'[data-toggle="buttons-radio"] input',function(){var t=e(this).parent(".btn-group"),n=t.data("css-yes"),r=t.data("css-no"),i=e(this).is(":checked"),s=e('label[for="'+e(this).attr("id")+'"]',t),o=e('label:not([for="'+e(this).attr("id")+'"])',t);e(".btn",t).removeClass(n).removeClass(r);s.toggleClass(t.data("css-"+s.data("value")),i).toggleClass("active",i);o.removeClass("active")})})}(window.jQuery);if($.fn.modal){cs.debug("bootstrap detected");$.extend($.fn.button.defaults,{loadingText:'<i class="icon-xloading animate-spin"></i><b>Loading...</b>'});$.extend($.fn.modal.Constructor.prototype,{show:function(){$.extend(this.options,{animate:{show:"BounceIn",hide:"BounceOut"}});var e=this,t=$.Event("show"),n=$.support.transition&&e.options.animate;if(e.$element.center().hasClass("x-modal")){e.$element.addClass("active");e.setBodyHeight()}if(n){this.$element.removeClass("fade animatedf "+e.options.animate.hide);this.$element.addClass("animated "+e.options.animate.show)}this.$element.trigger(t);if(this.isShown||t.isDefaultPrevented())return;this.isShown=!0;this.escape();this.backdrop(function(){var t=$.support.transition&&e.options.animate;e.$element.parent().length||e.$element.appendTo(document.body);e.$element.show();t&&e.$element[0].offsetWidth;e.$element.addClass("in").attr("aria-hidden",!1);e.enforceFocus();t?e.$element.one(JP.css3.events.animate.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")})},hide:function(e){e&&e.preventDefault();var t=this,n=$.support.transition&&t.options.animate;if(n){t.$element.removeClass("animated "+t.options.animate.show);t.$element.addClass("animatedf "+t.options.animate.hide)}e=$.Event("hide");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=!1;this.escape();$(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",!0);n?this.hideWithTransition():this.hideModal()},hideWithTransition:function(){var e=this,t=JP.css3.events.animate.end,n=JP.toFloat(this.$element.css("animation-duration")),r=setTimeout(function(){e.$element.off(t);e.hideModal()},n?n*1e3:500);this.$element.one(t,function(){clearTimeout(r);e.hideModal()})},hideModal:function(){var e=this;this.$element.hide();this.backdrop(function(){e.removeBackdrop();e.$element.trigger("hidden");e.$element.hasClass("active")&&e.$element.addClass("active")})},setBodyHeight:function(){$(".modal-body",this.$element).height($(".modal-body",this.$element).height())},setTitle:function(e){var t=$(".modal-header h3",this.$element);t.length||(t=$(".modal-header .title",this.$element));if(!t.length)return null;t.html(e)},setWidth:function(e){this.$element.width(e).center()},setHeight:function(e){this.$element.height(e).center();this.setBodyHeight()},setSize:function(e,t){this.setWidth(e);this.setHeight(t)}});cs.log("[TODO] Thank you bootstrap small project large bug.");cs.log("[TODO] extend bootstrap api to set modal-header title")};